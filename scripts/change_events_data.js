// listeners for drop down menues for user to select data
// changes visibility of appropriate map layers based on user selection

// select select element within html that holds the drop down menu for the map data and assign it to a variable
var map_data_select = document.getElementById("map_data");

// define funciton for what occurs when user selects new data to display
var data_change = function() {
    var selection = map_data_select.value;

    // if no data selected
    if (selection === 'none') {
        for (var i = 0; i < layer_ids_hover_click.length; i++) {
            var hc_layer = layer_ids_hover_click[i];
            map.setLayoutProperty(hc_layer, 'visibility', 'none');
        }
    } else {
        for (var i = 0; i < layer_ids_hover_click.length; i++) {
            var hc_layer = layer_ids_hover_click[i];
            map.setLayoutProperty(hc_layer, 'visibility', 'visible');
        }
    }

    // ada data layers
    for (var i = 0; i < layer_ids_ada_data.length; i++) {
        // variable to hold layer id from loop/array
        var layer = layer_ids_ada_data[i];
        // join the value from the select option to notation to indicate layer
        var selection_full = selection.concat("_ada");

        if (selection_full === layer) {
            map.setLayoutProperty(layer, 'visibility', 'visible');
        } else {
            map.setLayoutProperty(layer, 'visibility', 'none');
        }

    };

    // ada null layers
    for (var i = 0; i < layer_ids_ada_null.length; i++) {
        // variable to hold layer id from loop/array
        var layer = layer_ids_ada_null[i];
        // join the value from the select option to notation to indicate layer
        var selection_full = selection.concat("_ada_null");

        if (selection_full === layer) {
            map.setLayoutProperty(layer, 'visibility', 'visible');
        } else {
            map.setLayoutProperty(layer, 'visibility', 'none');
        }
    };

    // fed data layers
    for (var i = 0; i < layer_ids_fed_data.length; i++) {
        // variable to hold layer id from loop/array
        var layer = layer_ids_fed_data[i];
        // join the value from the select option to notation to indicate layer
        var selection_full = selection.concat("_fed");

        if (selection_full === layer) {
            map.setLayoutProperty(layer, 'visibility', 'visible');
        } else {
            map.setLayoutProperty(layer, 'visibility', 'none');
        }
    };

    // fed null layers
    for (var i = 0; i < layer_ids_fed_null.length; i++) {
        // variable to hold layer id from loop/array
        var layer = layer_ids_fed_null[i];
        // join the value from the select option to notation to indicate layer
        var selection_full = selection.concat("_fed_null");

        if (selection_full === layer) {
            map.setLayoutProperty(layer, 'visibility', 'visible');
        } else {
            map.setLayoutProperty(layer, 'visibility', 'none');
        }
    };
};
